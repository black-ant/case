========================================
ChatService é…ç½®å®Œæ•´æŒ‡å—
========================================

ChatService ç°åœ¨åŒ…å« 20 ä¸ªå®ç”¨æ–¹æ³•ï¼Œæ¶µç›–ä»åŸºç¡€åˆ°é«˜çº§çš„å„ç§é…ç½®åœºæ™¯ã€‚

## æ–¹æ³•åˆ†ç±»

### ğŸ“Œ åŸºç¡€ç”¨æ³• (1-2)

1. chat(String message)
   - æœ€ç®€å•çš„å¯¹è¯æ–¹å¼
   - ç›´æ¥è¿”å›å®Œæ•´å“åº”

2. streamChat(String message)
   - æµå¼å¯¹è¯
   - å®æ—¶è¿”å› AI ç”Ÿæˆçš„å†…å®¹ç‰‡æ®µ

### ğŸ“Œ ç³»ç»Ÿæç¤ºè¯é…ç½® (3-5)

3. chatWithSystem(String systemPrompt, String userMessage)
   - è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯
   - å®šä¹‰ AI çš„è§’è‰²å’Œè¡Œä¸º

4. chatAsTechExpert(String question)
   - é¢„å®šä¹‰è§’è‰²ï¼šæŠ€æœ¯ä¸“å®¶
   - é€‚åˆæŠ€æœ¯é—®é¢˜è§£ç­”

5. translate(String text, String targetLanguage)
   - é¢„å®šä¹‰è§’è‰²ï¼šç¿»è¯‘åŠ©æ‰‹
   - ä¸“ä¸šç¿»è¯‘æœåŠ¡

### ğŸ“Œ å‚æ•°é…ç½® (6-8)

6. chatWithTemperature(String message, double temperature)
   - æ§åˆ¶è¾“å‡ºéšæœºæ€§
   - temperature: 0.0-2.0
     * 0.0-0.3: ç²¾ç¡®ã€ç¡®å®šæ€§è¾“å‡º
     * 0.7-0.9: å¹³è¡¡åˆ›é€ æ€§å’Œå‡†ç¡®æ€§
     * 1.0-2.0: é«˜åº¦åˆ›é€ æ€§è¾“å‡º

7. chatWithMaxTokens(String message, int maxTokens)
   - é™åˆ¶è¾“å‡ºé•¿åº¦
   - æ§åˆ¶æˆæœ¬å’Œå“åº”æ—¶é—´

8. chatWithFullOptions(String message)
   - å®Œæ•´å‚æ•°é…ç½®ç¤ºä¾‹
   - åŒ…å«æ‰€æœ‰å¸¸ç”¨å‚æ•°

### ğŸ“Œ æ¨¡å‹é€‰æ‹© (9-11)

9. chatWithModel(String message, String model)
   - æŒ‡å®šä½¿ç”¨çš„ AI æ¨¡å‹
   - æ”¯æŒ: gpt-3.5-turbo, gpt-4, deepseek-ai/DeepSeek-V3 ç­‰

10. chatFast(String message)
    - å¿«é€Ÿæ¨¡å‹é…ç½®
    - é€‚åˆç®€å•ä»»åŠ¡

11. chatAdvanced(String message)
    - é«˜çº§æ¨¡å‹é…ç½®
    - é€‚åˆå¤æ‚ä»»åŠ¡

### ğŸ“Œ ç‰¹æ®Šåœºæ™¯é…ç½® (12-15)

12. creativeWriting(String topic)
    - åˆ›é€ æ€§å†™ä½œ
    - é«˜ temperatureï¼Œé¼“åŠ±åˆ›æ–°

13. preciseAnswer(String question)
    - ç²¾ç¡®å›ç­”
    - ä½ temperatureï¼Œè¿½æ±‚å‡†ç¡®æ€§

14. generateCode(String requirement)
    - ä»£ç ç”Ÿæˆ
    - é€‚åˆç¼–ç¨‹ä»»åŠ¡

15. summarize(String text)
    - æ–‡æœ¬æ‘˜è¦
    - æå–å…³é”®ä¿¡æ¯

### ğŸ“Œ é«˜çº§ç”¨æ³• (16-20)

16. chatWithPromptObject(String systemText, String userText)
    - ä½¿ç”¨ Prompt å¯¹è±¡
    - æ›´åº•å±‚çš„æ§åˆ¶

17. chatWithMetadata(String message)
    - è·å–å®Œæ•´å“åº”ä¿¡æ¯
    - åŒ…æ‹¬ token ä½¿ç”¨æƒ…å†µ

18. streamWithOptions(String message, String systemPrompt)
    - æµå¼å“åº”å¸¦é…ç½®
    - è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯å’Œå‚æ•°

19. chatWithContext(String context, String newMessage)
    - å¤šè½®å¯¹è¯
    - å¸¦ä¸Šä¸‹æ–‡è®°å¿†

20. chatWithCustomClient(String message)
    - è‡ªå®šä¹‰ ChatClient
    - å¸¦é»˜è®¤é…ç½®

## å‚æ•°è¯´æ˜

### Temperature (æ¸©åº¦)
- èŒƒå›´: 0.0 - 2.0
- ä½œç”¨: æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§å’Œåˆ›é€ æ€§
- æ¨èå€¼:
  * 0.1-0.3: äº‹å®æ€§é—®ç­”ã€ä»£ç ç”Ÿæˆ
  * 0.7-0.9: é€šç”¨å¯¹è¯ã€å†…å®¹åˆ›ä½œ
  * 1.0-2.0: åˆ›æ„å†™ä½œã€å¤´è„‘é£æš´

### MaxTokens (æœ€å¤§ Token æ•°)
- ä½œç”¨: é™åˆ¶è¾“å‡ºé•¿åº¦
- æ¨èå€¼:
  * 100-300: ç®€çŸ­å›ç­”
  * 500-1000: ä¸­ç­‰é•¿åº¦å†…å®¹
  * 1500-2000: é•¿æ–‡æœ¬ç”Ÿæˆ

### TopP (æ ¸é‡‡æ ·)
- èŒƒå›´: 0.0 - 1.0
- ä½œç”¨: æ§åˆ¶è¯æ±‡å¤šæ ·æ€§
- æ¨èå€¼: 0.9 (é€šç”¨)

### FrequencyPenalty (é¢‘ç‡æƒ©ç½š)
- èŒƒå›´: -2.0 - 2.0
- ä½œç”¨: é™ä½é‡å¤è¯çš„é¢‘ç‡
- æ¨èå€¼: 0.0-0.5

### PresencePenalty (å­˜åœ¨æƒ©ç½š)
- èŒƒå›´: -2.0 - 2.0
- ä½œç”¨: é¼“åŠ±è°ˆè®ºæ–°è¯é¢˜
- æ¨èå€¼: 0.0-0.5

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: ç®€å•å¯¹è¯
```java
String response = chatService.chat("ä½ å¥½");
```

### ç¤ºä¾‹ 2: æŠ€æœ¯é—®ç­”
```java
String answer = chatService.chatAsTechExpert("ä»€ä¹ˆæ˜¯ Spring Bootï¼Ÿ");
```

### ç¤ºä¾‹ 3: ç¿»è¯‘
```java
String translation = chatService.translate("Hello World", "ä¸­æ–‡");
```

### ç¤ºä¾‹ 4: ä»£ç ç”Ÿæˆ
```java
String code = chatService.generateCode("ç”¨ Java å®ç°ä¸€ä¸ªå•ä¾‹æ¨¡å¼");
```

### ç¤ºä¾‹ 5: åˆ›é€ æ€§å†™ä½œ
```java
String story = chatService.creativeWriting("æœªæ¥ä¸–ç•Œ");
```

### ç¤ºä¾‹ 6: ç²¾ç¡®å›ç­”
```java
String answer = chatService.preciseAnswer("åœ°çƒçš„åŠå¾„æ˜¯å¤šå°‘ï¼Ÿ");
```

### ç¤ºä¾‹ 7: æµå¼å“åº”
```java
Flux<String> stream = chatService.streamChat("å†™ä¸€é¦–è¯—");
stream.subscribe(chunk -> System.out.print(chunk));
```

### ç¤ºä¾‹ 8: è·å–å…ƒæ•°æ®
```java
Map<String, Object> result = chatService.chatWithMetadata("ä½ å¥½");
System.out.println("ä½¿ç”¨çš„ tokens: " + result.get("totalTokens"));
```

### ç¤ºä¾‹ 9: è‡ªå®šä¹‰æ¸©åº¦
```java
// åˆ›é€ æ€§è¾“å‡º
String creative = chatService.chatWithTemperature("å†™ä¸€ä¸ªæ•…äº‹", 1.0);

// ç²¾ç¡®è¾“å‡º
String precise = chatService.chatWithTemperature("1+1=?", 0.1);
```

### ç¤ºä¾‹ 10: æŒ‡å®šæ¨¡å‹
```java
String response = chatService.chatWithModel(
    "è§£é‡Šé‡å­è®¡ç®—", 
    "gpt-4"
);
```

## æœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„ Temperature
- äº‹å®æ€§ä»»åŠ¡: 0.1-0.3
- é€šç”¨å¯¹è¯: 0.7-0.9
- åˆ›æ„ä»»åŠ¡: 1.0-2.0

### 2. æ§åˆ¶è¾“å‡ºé•¿åº¦
- ä½¿ç”¨ maxTokens é¿å…è¿‡é•¿å“åº”
- èŠ‚çœæˆæœ¬å’Œæ—¶é—´

### 3. ä½¿ç”¨ç³»ç»Ÿæç¤ºè¯
- æ˜ç¡®å®šä¹‰ AI çš„è§’è‰²
- æä¾›å¿…è¦çš„ä¸Šä¸‹æ–‡ä¿¡æ¯

### 4. æµå¼å“åº”çš„ä½¿ç”¨åœºæ™¯
- é•¿æ–‡æœ¬ç”Ÿæˆ
- éœ€è¦å®æ—¶åé¦ˆçš„åœºæ™¯
- æå‡ç”¨æˆ·ä½“éªŒ

### 5. è·å–å…ƒæ•°æ®
- ç›‘æ§ token ä½¿ç”¨æƒ…å†µ
- ä¼˜åŒ–æˆæœ¬
- è°ƒè¯•å’Œåˆ†æ

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. é€‰æ‹©åˆé€‚çš„æ¨¡å‹
- ç®€å•ä»»åŠ¡: gpt-3.5-turbo (å¿«é€Ÿã€ä¾¿å®œ)
- å¤æ‚ä»»åŠ¡: gpt-4 (å¼ºå¤§ã€å‡†ç¡®)

### 2. é™åˆ¶ MaxTokens
- é¿å…ä¸å¿…è¦çš„é•¿å“åº”
- å‡å°‘ç­‰å¾…æ—¶é—´

### 3. ä½¿ç”¨æµå¼å“åº”
- æå‡ç”¨æˆ·ä½“éªŒ
- å‡å°‘æ„ŸçŸ¥å»¶è¿Ÿ

### 4. ç¼“å­˜å¸¸è§é—®é¢˜
- å¯¹äºé‡å¤é—®é¢˜ï¼Œè€ƒè™‘ç¼“å­˜å“åº”
- å‡å°‘ API è°ƒç”¨

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•è®©å›ç­”æ›´å‡†ç¡®ï¼Ÿ
A: é™ä½ temperature (0.1-0.3)ï¼Œä½¿ç”¨æ˜ç¡®çš„ç³»ç»Ÿæç¤ºè¯

### Q: å¦‚ä½•è®©å›ç­”æ›´æœ‰åˆ›æ„ï¼Ÿ
A: æé«˜ temperature (1.0-2.0)ï¼Œå¢åŠ  presencePenalty

### Q: å¦‚ä½•æ§åˆ¶æˆæœ¬ï¼Ÿ
A: ä½¿ç”¨ maxTokens é™åˆ¶è¾“å‡ºï¼Œé€‰æ‹©åˆé€‚çš„æ¨¡å‹

### Q: æµå¼å“åº”å’Œæ™®é€šå“åº”çš„åŒºåˆ«ï¼Ÿ
A: æµå¼å“åº”å®æ—¶è¿”å›å†…å®¹ç‰‡æ®µï¼Œæ™®é€šå“åº”ç­‰å¾…å®Œæ•´ç»“æœ

### Q: å¦‚ä½•å®ç°å¤šè½®å¯¹è¯ï¼Ÿ
A: ä½¿ç”¨ chatWithContext æ–¹æ³•ï¼Œå°†å†å²å¯¹è¯ä½œä¸ºä¸Šä¸‹æ–‡ä¼ å…¥

## æ‰©å±•é˜…è¯»

- Spring AI å®˜æ–¹æ–‡æ¡£: https://docs.spring.io/spring-ai/reference/
- OpenAI API æ–‡æ¡£: https://platform.openai.com/docs/api-reference
- ChatClient æœ€ä½³å®è·µ: æŸ¥çœ‹ AdvancedChatService.java

========================================
æ›´å¤šç¤ºä¾‹è¯·æŸ¥çœ‹æºä»£ç ä¸­çš„æ³¨é‡Š
========================================
