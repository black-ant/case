========================================
âœ… ChatService é…ç½®å®Œæˆ
========================================

## å®Œæˆçš„å·¥ä½œ

å·²æˆåŠŸä¸º ChatService æ·»åŠ  20 ä¸ªå®ç”¨æ–¹æ³•ï¼Œæ¶µç›–ä»åŸºç¡€åˆ°é«˜çº§çš„å„ç§é…ç½®åœºæ™¯ã€‚

## æ–¹æ³•åˆ—è¡¨ (20 ä¸ª)

### ğŸ“Œ åŸºç¡€ç”¨æ³• (2 ä¸ª)
1. chat(String message)
   - æœ€ç®€å•çš„å¯¹è¯æ–¹å¼

2. streamChat(String message)
   - æµå¼å¯¹è¯ï¼Œå®æ—¶è¿”å›å†…å®¹

### ğŸ“Œ ç³»ç»Ÿæç¤ºè¯é…ç½® (3 ä¸ª)
3. chatWithSystem(String systemPrompt, String userMessage)
   - è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯

4. chatAsTechExpert(String question)
   - é¢„å®šä¹‰è§’è‰²ï¼šæŠ€æœ¯ä¸“å®¶

5. translate(String text, String targetLanguage)
   - é¢„å®šä¹‰è§’è‰²ï¼šç¿»è¯‘åŠ©æ‰‹

### ğŸ“Œ å‚æ•°é…ç½® (3 ä¸ª)
6. chatWithTemperature(String message, double temperature)
   - æ§åˆ¶è¾“å‡ºéšæœºæ€§ (0.0-2.0)

7. chatWithMaxTokens(String message, int maxTokens)
   - é™åˆ¶è¾“å‡ºé•¿åº¦

8. chatWithFullOptions(String message)
   - å®Œæ•´å‚æ•°é…ç½®ç¤ºä¾‹

### ğŸ“Œ æ¨¡å‹é€‰æ‹© (3 ä¸ª)
9. chatWithModel(String message, String model)
   - æŒ‡å®šä½¿ç”¨çš„ AI æ¨¡å‹

10. chatFast(String message)
    - å¿«é€Ÿæ¨¡å‹ (gpt-3.5-turbo)

11. chatAdvanced(String message)
    - é«˜çº§æ¨¡å‹ (gpt-4)

### ğŸ“Œ ç‰¹æ®Šåœºæ™¯é…ç½® (4 ä¸ª)
12. creativeWriting(String topic)
    - åˆ›é€ æ€§å†™ä½œ (é«˜ temperature)

13. preciseAnswer(String question)
    - ç²¾ç¡®å›ç­” (ä½ temperature)

14. generateCode(String requirement)
    - ä»£ç ç”Ÿæˆ

15. summarize(String text)
    - æ–‡æœ¬æ‘˜è¦

### ğŸ“Œ é«˜çº§ç”¨æ³• (5 ä¸ª)
16. chatWithPromptObject(String systemText, String userText)
    - ä½¿ç”¨ Prompt å¯¹è±¡

17. chatWithMetadata(String message)
    - è·å–å®Œæ•´å“åº”ä¿¡æ¯å’Œ token ä½¿ç”¨æƒ…å†µ

18. streamWithOptions(String message, String systemPrompt)
    - æµå¼å“åº”å¸¦é…ç½®

19. chatWithContext(String context, String newMessage)
    - å¤šè½®å¯¹è¯ï¼Œå¸¦ä¸Šä¸‹æ–‡

20. chatWithCustomClient(String message)
    - è‡ªå®šä¹‰ ChatClient

## ä»£ç ç‰¹ç‚¹

### âœ… å®Œæ•´çš„æ³¨é‡Š
- æ¯ä¸ªæ–¹æ³•éƒ½æœ‰è¯¦ç»†çš„ JavaDoc æ³¨é‡Š
- è¯´æ˜æ–¹æ³•çš„ç”¨é€”å’Œä½¿ç”¨åœºæ™¯

### âœ… å®ç”¨çš„ç¤ºä¾‹
- æ¶µç›–å¸¸è§çš„ä½¿ç”¨åœºæ™¯
- æä¾›æœ€ä½³å®è·µé…ç½®

### âœ… çµæ´»çš„é…ç½®
- æ”¯æŒå„ç§å‚æ•°ç»„åˆ
- é€‚åº”ä¸åŒçš„ä¸šåŠ¡éœ€æ±‚

### âœ… æ˜“äºæ‰©å±•
- æ¸…æ™°çš„ä»£ç ç»“æ„
- ä¾¿äºæ·»åŠ æ–°æ–¹æ³•

## ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: ç®€å•å¯¹è¯
```java
@Autowired
private ChatService chatService;

String response = chatService.chat("ä½ å¥½");
System.out.println(response);
```

### ç¤ºä¾‹ 2: æŠ€æœ¯é—®ç­”
```java
String answer = chatService.chatAsTechExpert(
    "ä»€ä¹ˆæ˜¯ Spring Boot çš„è‡ªåŠ¨é…ç½®ï¼Ÿ"
);
```

### ç¤ºä¾‹ 3: ä»£ç ç”Ÿæˆ
```java
String code = chatService.generateCode(
    "ç”¨ Java å®ç°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„å•ä¾‹æ¨¡å¼"
);
```

### ç¤ºä¾‹ 4: åˆ›æ„å†™ä½œ
```java
String story = chatService.creativeWriting("æœªæ¥ä¸–ç•Œ");
```

### ç¤ºä¾‹ 5: æµå¼å“åº”
```java
Flux<String> stream = chatService.streamChat("å†™ä¸€é¦–è¯—");
stream.subscribe(
    chunk -> System.out.print(chunk),
    error -> System.err.println("é”™è¯¯: " + error),
    () -> System.out.println("\nå®Œæˆ")
);
```

### ç¤ºä¾‹ 6: è·å–å…ƒæ•°æ®
```java
Map<String, Object> result = chatService.chatWithMetadata("ä½ å¥½");
System.out.println("ä½¿ç”¨çš„ tokens: " + result.get("totalTokens"));
System.out.println("æ¨¡å‹: " + result.get("model"));
```

### ç¤ºä¾‹ 7: æ§åˆ¶æ¸©åº¦
```java
// ç²¾ç¡®å›ç­”
String precise = chatService.chatWithTemperature("1+1=?", 0.1);

// åˆ›é€ æ€§å›ç­”
String creative = chatService.chatWithTemperature("å†™ä¸€ä¸ªæ•…äº‹", 1.5);
```

### ç¤ºä¾‹ 8: ç¿»è¯‘
```java
String translation = chatService.translate(
    "Hello, how are you?", 
    "ä¸­æ–‡"
);
```

### ç¤ºä¾‹ 9: æ‘˜è¦
```java
String longText = "å¾ˆé•¿çš„æ–‡æœ¬å†…å®¹...";
String summary = chatService.summarize(longText);
```

### ç¤ºä¾‹ 10: å¤šè½®å¯¹è¯
```java
String context = "ç”¨æˆ·ä¹‹å‰é—®äº†å…³äº Java çš„é—®é¢˜";
String response = chatService.chatWithContext(
    context, 
    "é‚£ Spring å‘¢ï¼Ÿ"
);
```

## å‚æ•°è¯´æ˜

### Temperature (æ¸©åº¦)
- **èŒƒå›´**: 0.0 - 2.0
- **ä½œç”¨**: æ§åˆ¶è¾“å‡ºçš„éšæœºæ€§å’Œåˆ›é€ æ€§
- **æ¨èå€¼**:
  * 0.0-0.3: äº‹å®æ€§é—®ç­”ã€ä»£ç ç”Ÿæˆã€ç²¾ç¡®è®¡ç®—
  * 0.7-0.9: é€šç”¨å¯¹è¯ã€å†…å®¹åˆ›ä½œã€æ—¥å¸¸äº¤æµ
  * 1.0-2.0: åˆ›æ„å†™ä½œã€å¤´è„‘é£æš´ã€è‰ºæœ¯åˆ›ä½œ

### MaxTokens (æœ€å¤§ Token æ•°)
- **ä½œç”¨**: é™åˆ¶è¾“å‡ºé•¿åº¦
- **æ¨èå€¼**:
  * 100-300: ç®€çŸ­å›ç­”ã€å¿«é€Ÿé—®ç­”
  * 500-1000: ä¸­ç­‰é•¿åº¦å†…å®¹ã€è¯¦ç»†è§£é‡Š
  * 1500-2000: é•¿æ–‡æœ¬ç”Ÿæˆã€æ–‡ç« åˆ›ä½œ

### TopP (æ ¸é‡‡æ ·)
- **èŒƒå›´**: 0.0 - 1.0
- **ä½œç”¨**: æ§åˆ¶è¯æ±‡å¤šæ ·æ€§
- **æ¨èå€¼**: 0.9 (é€šç”¨åœºæ™¯)

### FrequencyPenalty (é¢‘ç‡æƒ©ç½š)
- **èŒƒå›´**: -2.0 - 2.0
- **ä½œç”¨**: é™ä½é‡å¤è¯çš„é¢‘ç‡
- **æ¨èå€¼**: 0.0-0.5

### PresencePenalty (å­˜åœ¨æƒ©ç½š)
- **èŒƒå›´**: -2.0 - 2.0
- **ä½œç”¨**: é¼“åŠ±è°ˆè®ºæ–°è¯é¢˜
- **æ¨èå€¼**: 0.0-0.5

## æœ€ä½³å®è·µ

### 1. æ ¹æ®ä»»åŠ¡é€‰æ‹©æ–¹æ³•
| ä»»åŠ¡ç±»å‹ | æ¨èæ–¹æ³• | Temperature |
|---------|---------|-------------|
| äº‹å®é—®ç­” | preciseAnswer() | 0.1-0.3 |
| ä»£ç ç”Ÿæˆ | generateCode() | 0.3 |
| æŠ€æœ¯é—®ç­” | chatAsTechExpert() | 0.5-0.7 |
| é€šç”¨å¯¹è¯ | chat() | 0.7-0.9 |
| åˆ›æ„å†™ä½œ | creativeWriting() | 1.0-2.0 |
| ç¿»è¯‘ | translate() | 0.3 |
| æ‘˜è¦ | summarize() | 0.3 |

### 2. æ§åˆ¶æˆæœ¬
- ä½¿ç”¨ `maxTokens` é™åˆ¶è¾“å‡ºé•¿åº¦
- é€‰æ‹©åˆé€‚çš„æ¨¡å‹ (gpt-3.5-turbo vs gpt-4)
- ç¼“å­˜å¸¸è§é—®é¢˜çš„ç­”æ¡ˆ
- ä½¿ç”¨ `chatWithMetadata()` ç›‘æ§ token ä½¿ç”¨

### 3. æå‡å“åº”è´¨é‡
- ä½¿ç”¨æ˜ç¡®çš„ç³»ç»Ÿæç¤ºè¯
- æä¾›è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡ä¿¡æ¯
- è°ƒæ•´ temperature å‚æ•°
- ä½¿ç”¨åˆé€‚çš„æ¨¡å‹

### 4. ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
- é•¿æ–‡æœ¬ç”Ÿæˆä½¿ç”¨æµå¼å“åº”
- æä¾›å®æ—¶åé¦ˆ
- åˆç†è®¾ç½®è¶…æ—¶æ—¶é—´
- å¤„ç†é”™è¯¯æƒ…å†µ

## æ€§èƒ½ä¼˜åŒ–

### 1. æ¨¡å‹é€‰æ‹©
```java
// ç®€å•ä»»åŠ¡ - å¿«é€Ÿä¸”ä¾¿å®œ
chatFast("ç®€å•é—®é¢˜")

// å¤æ‚ä»»åŠ¡ - å¼ºå¤§ä½†è¾ƒæ…¢
chatAdvanced("å¤æ‚é—®é¢˜")
```

### 2. æµå¼å“åº”
```java
// é•¿æ–‡æœ¬ç”Ÿæˆä½¿ç”¨æµå¼å“åº”
streamChat("å†™ä¸€ç¯‡é•¿æ–‡ç« ")
```

### 3. é™åˆ¶è¾“å‡º
```java
// æ§åˆ¶è¾“å‡ºé•¿åº¦
chatWithMaxTokens("é—®é¢˜", 500)
```

## ç¼–è¯‘çŠ¶æ€

âœ… ChatService.java ç¼–è¯‘æˆåŠŸ
âœ… æ‰€æœ‰ 20 ä¸ªæ–¹æ³•å¯ç”¨
âœ… ä»£ç æ— é”™è¯¯
âœ… å®Œæ•´çš„æ³¨é‡Šå’Œæ–‡æ¡£

## ç›¸å…³æ–‡æ¡£

- **CHATSERVICE-GUIDE.txt** - å®Œæ•´é…ç½®æŒ‡å—
- **QUICK-REFERENCE.txt** - å¿«é€Ÿå‚è€ƒå¡ç‰‡
- **PROJECT-INFO.txt** - é¡¹ç›®ä¿¡æ¯
- **QUICK-START.txt** - å¿«é€Ÿå¯åŠ¨æŒ‡å—

## ä¸‹ä¸€æ­¥

1. å¯åŠ¨åº”ç”¨ï¼š`mvn spring-boot:run`
2. æµ‹è¯•å„ç§æ–¹æ³•
3. æ ¹æ®éœ€æ±‚è°ƒæ•´å‚æ•°
4. æŸ¥çœ‹å®¡è®¡æ—¥å¿—è¾“å‡º

## æ‰©å±•å»ºè®®

### å¯ä»¥æ·»åŠ çš„åŠŸèƒ½
1. å‡½æ•°è°ƒç”¨ (Function Calling)
2. å›¾åƒç”Ÿæˆé›†æˆ
3. å‘é‡æ•°æ®åº“é›†æˆ
4. RAG (æ£€ç´¢å¢å¼ºç”Ÿæˆ)
5. å¯¹è¯å†å²ç®¡ç†
6. ç”¨æˆ·åå¥½è®¾ç½®
7. å¤šè¯­è¨€æ”¯æŒ
8. å†…å®¹è¿‡æ»¤
9. é€Ÿç‡é™åˆ¶
10. ç¼“å­˜æœºåˆ¶

### ç¤ºä¾‹ï¼šæ·»åŠ ç¼“å­˜
```java
@Cacheable("chatResponses")
public String chatWithCache(String message) {
    return chat(message);
}
```

### ç¤ºä¾‹ï¼šæ·»åŠ é‡è¯•
```java
@Retryable(maxAttempts = 3)
public String chatWithRetry(String message) {
    return chat(message);
}
```

========================================
ChatService ç°åœ¨åŠŸèƒ½å®Œæ•´ï¼Œå¯ä»¥å¼€å§‹ä½¿ç”¨äº†ï¼
========================================
