========================================
Sample-Spring-AI é¡¹ç›®å®Œæ•´è¯´æ˜
========================================

è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ Spring AI ç¤ºä¾‹é¡¹ç›®ï¼Œå±•ç¤ºäº†ä»åŸºç¡€åˆ°é«˜çº§çš„å„ç§ AI å¯¹è¯é…ç½®ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. é…ç½® API Key
ç¼–è¾‘ src/main/resources/application.yml:
```yaml
spring:
  ai:
    openai:
      api-key: ä½ çš„APIå¯†é’¥
```

### 2. å¯åŠ¨é¡¹ç›®
```bash
mvn spring-boot:run
```

### 3. æµ‹è¯• API
```bash
curl -X POST http://localhost:8786/api/chat/simple \
  -H "Content-Type: application/json" \
  -d '{"message":"ä½ å¥½"}'
```

## ğŸ“‹ é¡¹ç›®ç‰¹æ€§

### âœ… å®Œæ•´çš„åŠŸèƒ½
- 20 ä¸ª ChatService æ–¹æ³•ï¼ˆåŸºç¡€åˆ°é«˜çº§ï¼‰
- 12 ä¸ª API æ¥å£ï¼ˆç®€å•å¯¹è¯åˆ°é«˜çº§é…ç½®ï¼‰
- å®¡è®¡æ—¥å¿—ï¼ˆè‡ªåŠ¨è®°å½•æ‰€æœ‰ API è°ƒç”¨ï¼‰
- DNS ä¼˜åŒ–ï¼ˆè§£å†³ç½‘ç»œè¿æ¥é—®é¢˜ï¼‰
- ä»£ç†æ”¯æŒï¼ˆæ”¯æŒ HTTP ä»£ç†è®¿é—®ï¼‰

### âœ… è¯¦ç»†çš„æ–‡æ¡£
- å®Œæ•´çš„ä»£ç æ³¨é‡Š
- ä½¿ç”¨æŒ‡å—å’Œç¤ºä¾‹
- å¿«é€Ÿå‚è€ƒå¡ç‰‡
- æ•…éšœæ’æŸ¥æŒ‡å—

### âœ… æœ€ä½³å®è·µ
- æ ‡å‡†çš„é¡¹ç›®ç»“æ„
- è§„èŒƒçš„ä»£ç é£æ ¼
- å®Œå–„çš„é”™è¯¯å¤„ç†
- æ€§èƒ½ä¼˜åŒ–å»ºè®®

## ğŸ“š æ ¸å¿ƒç»„ä»¶

### 1. ChatService (20 ä¸ªæ–¹æ³•)
æä¾›ä»åŸºç¡€åˆ°é«˜çº§çš„å„ç§é…ç½®æ–¹å¼ï¼š

**åŸºç¡€ç”¨æ³•**
- chat() - ç®€å•å¯¹è¯
- streamChat() - æµå¼å¯¹è¯

**ç³»ç»Ÿæç¤ºè¯**
- chatWithSystem() - è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯
- chatAsTechExpert() - æŠ€æœ¯ä¸“å®¶è§’è‰²
- translate() - ç¿»è¯‘åŠ©æ‰‹

**å‚æ•°é…ç½®**
- chatWithTemperature() - æ§åˆ¶éšæœºæ€§
- chatWithMaxTokens() - é™åˆ¶è¾“å‡ºé•¿åº¦
- chatWithFullOptions() - å®Œæ•´å‚æ•°é…ç½®

**æ¨¡å‹é€‰æ‹©**
- chatWithModel() - æŒ‡å®šæ¨¡å‹
- chatFast() - å¿«é€Ÿæ¨¡å‹
- chatAdvanced() - é«˜çº§æ¨¡å‹

**ç‰¹æ®Šåœºæ™¯**
- creativeWriting() - åˆ›é€ æ€§å†™ä½œ
- preciseAnswer() - ç²¾ç¡®å›ç­”
- generateCode() - ä»£ç ç”Ÿæˆ
- summarize() - æ–‡æœ¬æ‘˜è¦

**é«˜çº§ç”¨æ³•**
- chatWithPromptObject() - Prompt å¯¹è±¡
- chatWithMetadata() - è·å–å…ƒæ•°æ®
- streamWithOptions() - æµå¼å¸¦é…ç½®
- chatWithContext() - å¤šè½®å¯¹è¯
- chatWithCustomClient() - è‡ªå®šä¹‰å®¢æˆ·ç«¯

### 2. API æ¥å£ (12 ä¸ª)

**åŸºç¡€å¯¹è¯ (ChatController)**
- POST /api/chat/simple - ç®€å•å¯¹è¯
- POST /api/chat/stream - æµå¼å¯¹è¯

**é«˜çº§é…ç½® (AdvancedChatController)**
- POST /api/advanced/basic-options - åŸºç¡€é€‰é¡¹é…ç½®
- POST /api/advanced/system-prompt - è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯
- POST /api/advanced/template - æ¨¡æ¿å’Œå˜é‡
- POST /api/advanced/advanced-options - é«˜çº§é€‰é¡¹é…ç½®
- POST /api/advanced/stream-options - æµå¼å“åº”é…ç½®
- POST /api/advanced/prompt-object - Prompt å¯¹è±¡
- POST /api/advanced/full-response - å®Œæ•´å“åº”ä¿¡æ¯
- POST /api/advanced/specific-model - æŒ‡å®šæ¨¡å‹
- POST /api/advanced/creative-writing - åˆ›æ„å†™ä½œ
- POST /api/advanced/precise-answer - ç²¾ç¡®å›ç­”

### 3. DTO ç±» (2 ä¸ª)

**ChatRequest** - åŸºç¡€å¯¹è¯è¯·æ±‚
```java
{
  "message": "ä½ å¥½"
}
```

**AdvancedChatRequest** - é«˜çº§å¯¹è¯è¯·æ±‚
```java
{
  "message": "é—®é¢˜",
  "systemPrompt": "ç³»ç»Ÿæç¤ºè¯",
  "temperature": 0.7,
  "maxTokens": 1000,
  ...
}
```

## ğŸ“– æ–‡æ¡£åˆ—è¡¨

### å¿«é€Ÿå…¥é—¨
- **QUICK-START.txt** - å¿«é€Ÿå¯åŠ¨æŒ‡å—
- **QUICK-REFERENCE.txt** - å¿«é€Ÿå‚è€ƒå¡ç‰‡

### åŠŸèƒ½æŒ‡å—
- **CHATSERVICE-GUIDE.txt** - ChatService å®Œæ•´é…ç½®æŒ‡å—
- **DTO-GUIDE.txt** - DTO ä½¿ç”¨æŒ‡å—
- **PROJECT-INFO.txt** - é¡¹ç›®è¯¦ç»†ä¿¡æ¯

### å®Œæˆæ€»ç»“
- **CHATSERVICE-COMPLETE.txt** - ChatService å®Œæˆæ€»ç»“
- **DTO-OPTIMIZATION-COMPLETE.txt** - DTO ä¼˜åŒ–å®Œæˆæ€»ç»“
- **INTEGRATION-COMPLETE.txt** - å®Œæ•´é›†æˆè¯´æ˜

### é—®é¢˜è§£å†³
- **DNS-PROBLEM-SOLVED.txt** - DNS é—®é¢˜è§£å†³æ–¹æ¡ˆ
- **DNS-FIX-README.txt** - DNS ä¿®å¤å¿«é€ŸæŒ‡å—
- **NETWORK-TROUBLESHOOTING.txt** - ç½‘ç»œæ•…éšœæ’æŸ¥
- **AUDIT-LOG-INTEGRATION.txt** - å®¡è®¡æ—¥å¿—é›†æˆè¯´æ˜

### å·¥å…·è„šæœ¬
- **start-with-custom-dns.bat** - ä¼˜åŒ–å¯åŠ¨è„šæœ¬
- **change-dns-windows.bat** - DNS ä¿®æ”¹å·¥å…·
- **test-network.bat** - ç½‘ç»œè¯Šæ–­å·¥å…·

## ğŸ¯ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1: ç®€å•å¯¹è¯
```bash
curl -X POST http://localhost:8786/api/chat/simple \
  -H "Content-Type: application/json" \
  -d '{"message":"ä½ å¥½"}'
```

### ç¤ºä¾‹ 2: æŠ€æœ¯é—®ç­”
```bash
curl -X POST http://localhost:8786/api/advanced/system-prompt \
  -H "Content-Type: application/json" \
  -d '{
    "message": "ä»€ä¹ˆæ˜¯ Spring Bootï¼Ÿ",
    "systemPrompt": "ä½ æ˜¯ä¸€ä¸ªèµ„æ·±çš„ Spring æ¡†æ¶ä¸“å®¶"
  }'
```

### ç¤ºä¾‹ 3: ä»£ç ç”Ÿæˆ
```bash
curl -X POST http://localhost:8786/api/chat/simple \
  -H "Content-Type: application/json" \
  -d '{"message":"ç”¨ Java å®ç°å•ä¾‹æ¨¡å¼"}'
```

### ç¤ºä¾‹ 4: æµå¼å“åº”
```bash
curl -X POST http://localhost:8786/api/chat/stream \
  -H "Content-Type: application/json" \
  -d '{"message":"å†™ä¸€é¦–è¯—"}'
```

## ğŸ¨ å‚æ•°é…ç½®é€ŸæŸ¥

### Temperature (æ¸©åº¦)
- 0.0-0.3: ç²¾ç¡®ä»»åŠ¡ï¼ˆäº‹å®é—®ç­”ã€ä»£ç ç”Ÿæˆï¼‰
- 0.7-0.9: é€šç”¨å¯¹è¯ï¼ˆæ—¥å¸¸äº¤æµã€å†…å®¹åˆ›ä½œï¼‰
- 1.0-2.0: åˆ›æ„ä»»åŠ¡ï¼ˆæ•…äº‹åˆ›ä½œã€å¤´è„‘é£æš´ï¼‰

### MaxTokens (æœ€å¤§ Token æ•°)
- 100-300: ç®€çŸ­å›ç­”
- 500-1000: ä¸­ç­‰é•¿åº¦
- 1500-2000: é•¿æ–‡æœ¬

### å¸¸ç”¨åœºæ™¯é…ç½®

**ä»£ç ç”Ÿæˆ**
```json
{
  "temperature": 0.3,
  "maxTokens": 1500
}
```

**åˆ›æ„å†™ä½œ**
```json
{
  "temperature": 1.2,
  "maxTokens": 2000,
  "frequencyPenalty": 0.6,
  "presencePenalty": 0.6
}
```

**äº‹å®é—®ç­”**
```json
{
  "temperature": 0.1,
  "maxTokens": 300
}
```

## ğŸ”§ é…ç½®è¯´æ˜

### application.yml ä¸»è¦é…ç½®
```yaml
# æœåŠ¡å™¨ç«¯å£
server:
  port: 8786

# Spring AI é…ç½®
spring:
  ai:
    openai:
      api-key: ä½ çš„APIå¯†é’¥
      base-url: https://api.siliconflow.cn
      chat:
        options:
          model: zai-org/GLM-4.5-Air
          temperature: 0.7

# HTTP ä»£ç†é…ç½®ï¼ˆå¯é€‰ï¼‰
http:
  proxy:
    enabled: false
    host: 127.0.0.1
    port: 7890
```

## ğŸ› å¸¸è§é—®é¢˜

### Q: DNS è§£æè¶…æ—¶ï¼Ÿ
A: æŸ¥çœ‹ DNS-PROBLEM-SOLVED.txtï¼Œé¡¹ç›®å·²é…ç½® JVM DNS è§£æå™¨

### Q: éœ€è¦ä»£ç†è®¿é—®ï¼Ÿ
A: ä¿®æ”¹ application.yml ä¸­ http.proxy.enabled=true

### Q: å¦‚ä½•æŸ¥çœ‹å®¡è®¡æ—¥å¿—ï¼Ÿ
A: å¯åŠ¨åº”ç”¨åï¼Œæ¯æ¬¡ API è°ƒç”¨éƒ½ä¼šåœ¨æ§åˆ¶å°è¾“å‡ºå®¡è®¡æ—¥å¿—

### Q: å¦‚ä½•è°ƒæ•´ AI è¾“å‡ºï¼Ÿ
A: ä½¿ç”¨ AdvancedChatRequestï¼Œè°ƒæ•´ temperatureã€maxTokens ç­‰å‚æ•°

### Q: å¦‚ä½•å®ç°å¤šè½®å¯¹è¯ï¼Ÿ
A: ä½¿ç”¨ AdvancedChatRequest çš„ history å­—æ®µä¼ é€’å¯¹è¯å†å²

## ğŸ“Š é¡¹ç›®ç»“æ„

```
Sample-Spring-AI/
â”œâ”€â”€ src/main/java/com/example/springai/
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â”œâ”€â”€ ChatController.java          # åŸºç¡€å¯¹è¯ API
â”‚   â”‚   â””â”€â”€ AdvancedChatController.java  # é«˜çº§é…ç½® API
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ ChatService.java             # å¯¹è¯æœåŠ¡ (20 ä¸ªæ–¹æ³•)
â”‚   â”‚   â””â”€â”€ AdvancedChatService.java     # é«˜çº§æœåŠ¡ (13 ä¸ªæ–¹æ³•)
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ ChatRequest.java             # åŸºç¡€è¯·æ±‚ DTO
â”‚   â”‚   â””â”€â”€ AdvancedChatRequest.java     # é«˜çº§è¯·æ±‚ DTO
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ WebConfig.java               # CORS é…ç½®
â”‚   â”‚   â””â”€â”€ WebClientConfig.java         # DNS å’Œä»£ç†é…ç½®
â”‚   â””â”€â”€ SampleSpringAiApplication.java   # ä¸»ç±»
â”œâ”€â”€ src/main/resources/
â”‚   â””â”€â”€ application.yml                   # é…ç½®æ–‡ä»¶
â”œâ”€â”€ æ–‡æ¡£/
â”‚   â”œâ”€â”€ QUICK-START.txt                   # å¿«é€Ÿå¯åŠ¨
â”‚   â”œâ”€â”€ CHATSERVICE-GUIDE.txt             # æœåŠ¡æŒ‡å—
â”‚   â”œâ”€â”€ DTO-GUIDE.txt                     # DTO æŒ‡å—
â”‚   â””â”€â”€ ...æ›´å¤šæ–‡æ¡£
â””â”€â”€ å·¥å…·/
    â”œâ”€â”€ start-with-custom-dns.bat         # å¯åŠ¨è„šæœ¬
    â”œâ”€â”€ change-dns-windows.bat            # DNS å·¥å…·
    â””â”€â”€ test-network.bat                  # ç½‘ç»œè¯Šæ–­
```

## ğŸ“ å­¦ä¹ è·¯å¾„

### 1. åˆå­¦è€…
1. é˜…è¯» QUICK-START.txt
2. æµ‹è¯• /api/chat/simple æ¥å£
3. æŸ¥çœ‹ ChatService.chat() æ–¹æ³•

### 2. è¿›é˜¶ä½¿ç”¨
1. é˜…è¯» CHATSERVICE-GUIDE.txt
2. å°è¯•ä¸åŒçš„ temperature å€¼
3. ä½¿ç”¨ systemPrompt å®šä¹‰è§’è‰²

### 3. é«˜çº§é…ç½®
1. é˜…è¯» DTO-GUIDE.txt
2. ä½¿ç”¨ AdvancedChatRequest
3. è°ƒæ•´å„ç§å‚æ•°ç»„åˆ

### 4. ç”Ÿäº§éƒ¨ç½²
1. é˜…è¯» INTEGRATION-COMPLETE.txt
2. é…ç½®å®¡è®¡æ—¥å¿—
3. ä¼˜åŒ–ç½‘ç»œè¿æ¥

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é€‰æ‹©åˆé€‚çš„æ–¹æ³•
- ç®€å•ä»»åŠ¡ â†’ chat()
- é•¿æ–‡æœ¬ â†’ streamChat()
- æŠ€æœ¯é—®é¢˜ â†’ chatAsTechExpert()
- ä»£ç  â†’ generateCode()

### 2. æ§åˆ¶æˆæœ¬
- ä½¿ç”¨ maxTokens é™åˆ¶è¾“å‡º
- é€‰æ‹©åˆé€‚çš„æ¨¡å‹
- ç¼“å­˜å¸¸è§é—®é¢˜

### 3. æå‡è´¨é‡
- ä½¿ç”¨æ˜ç¡®çš„ç³»ç»Ÿæç¤ºè¯
- è°ƒæ•´ temperature
- æä¾›è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡

### 4. ä¼˜åŒ–æ€§èƒ½
- ç®€å•ä»»åŠ¡ç”¨ chatFast()
- å¤æ‚ä»»åŠ¡ç”¨ chatAdvanced()
- é•¿æ–‡æœ¬ç”¨æµå¼å“åº”

## ğŸ”— ç›¸å…³é“¾æ¥

- Spring AI å®˜æ–¹æ–‡æ¡£: https://docs.spring.io/spring-ai/reference/
- OpenAI API æ–‡æ¡£: https://platform.openai.com/docs/api-reference
- Spring Boot æ–‡æ¡£: https://spring.io/projects/spring-boot

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-10-08)
- âœ… å®Œæˆ ChatService (20 ä¸ªæ–¹æ³•)
- âœ… å®Œæˆ API æ¥å£ (12 ä¸ª)
- âœ… æ·»åŠ å®¡è®¡æ—¥å¿—åŠŸèƒ½
- âœ… è§£å†³ DNS é—®é¢˜
- âœ… æ·»åŠ ä»£ç†æ”¯æŒ
- âœ… å®Œå–„æ‰€æœ‰æ–‡æ¡£
- âœ… ä¼˜åŒ– DTO æ³¨é‡Š

## ğŸ‘¥ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“„ è®¸å¯è¯

MIT License

========================================
å¼€å§‹ä½¿ç”¨ Sample-Spring-AI å§ï¼
========================================
