# AI æ™ºèƒ½å®¢æœç³»ç»Ÿ - å¯åŠ¨æŒ‡å—

## âœ… é…ç½®å®Œæˆæ¸…å•

- âœ… Java 21 é…ç½®
- âœ… DeepSeek API é…ç½®ï¼ˆOpenAI å…¼å®¹ï¼‰
- âœ… ç®€å•çš„çŸ¥è¯†åº“æ£€ç´¢ï¼ˆæ— éœ€ Embeddings APIï¼‰
- âœ… Function Calling å·¥å…·ï¼ˆ4ä¸ªï¼‰
- âœ… æµå¼å“åº”æ”¯æŒ
- âœ… Web ç•Œé¢
- âœ… æµ‹è¯•æ•°æ®

## ğŸš€ å¯åŠ¨æ­¥éª¤

### 1. ç¡®è®¤ç¯å¢ƒ

```bash
# æ£€æŸ¥ Java ç‰ˆæœ¬
java -version
# åº”è¯¥æ˜¾ç¤º Java 21

# æ£€æŸ¥ Maven ç‰ˆæœ¬
mvn -version
```

### 2. å¯åŠ¨åº”ç”¨

```bash
cd AI-Customer-Service
mvn clean spring-boot:run
```

### 3. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:8080**

## ğŸ¯ å¿«é€Ÿæµ‹è¯•

### æµ‹è¯• 1ï¼šåŸºç¡€å¯¹è¯
```
è¾“å…¥ï¼šä½ å¥½
é¢„æœŸï¼šAI ä¼šå‹å¥½åœ°å›å¤
```

### æµ‹è¯• 2ï¼šæŸ¥è¯¢è®¢å•
```
è¾“å…¥ï¼šæŸ¥è¯¢æˆ‘çš„è®¢å•
é¢„æœŸï¼šAI ä¼šè°ƒç”¨ orderQueryFunction æŸ¥è¯¢è®¢å•
```

### æµ‹è¯• 3ï¼šçŸ¥è¯†åº“æŸ¥è¯¢
```
è¾“å…¥ï¼šé€€è´§æ”¿ç­–æ˜¯ä»€ä¹ˆï¼Ÿ
é¢„æœŸï¼šAI ä¼šä»çŸ¥è¯†åº“æ£€ç´¢ç›¸å…³ä¿¡æ¯
```

### æµ‹è¯• 4ï¼šç‰©æµè¿½è¸ª
```
è¾“å…¥ï¼šæŸ¥è¯¢è®¢å• ORD20251019001 çš„ç‰©æµ
é¢„æœŸï¼šAI ä¼šè°ƒç”¨ trackingQueryFunction è·å–ç‰©æµä¿¡æ¯
```

### æµ‹è¯• 5ï¼šåˆ›å»ºå·¥å•
```
è¾“å…¥ï¼šæˆ‘æ”¶åˆ°çš„å•†å“æœ‰è´¨é‡é—®é¢˜
é¢„æœŸï¼šAI ä¼šå¼•å¯¼åˆ›å»ºå·¥å•
```

## ğŸ“Š æµ‹è¯•æ•°æ®

ç³»ç»Ÿé¢„ç½®äº†ä»¥ä¸‹æµ‹è¯•æ•°æ®ï¼š

**å®¢æˆ·ï¼šå¼ ä¸‰ (CUST001)**
- è®¢å• ORD20251019001ï¼šiPhone 15 Proï¼ˆå·²å‘è´§ï¼‰
- è®¢å• ORD20251019002ï¼šAirPods Proï¼ˆå·²é€è¾¾ï¼‰

**å®¢æˆ·ï¼šæå›› (CUST002)**
- è®¢å• ORD20251019003ï¼šMacBook Proï¼ˆå·²ç¡®è®¤ï¼‰

## ğŸ”§ é…ç½®è¯´æ˜

### API é…ç½®

**Chat API (DeepSeek):**
```yaml
spring:
  ai:
    openai:
      api-key: sk-4ZkNj89GHt26K4lyfl1JNOQuPtUeV5ktXUs8T1VbJ1iS7R5Y
      base-url: https://992236.xyz
      chat:
        options:
          model: gemini-2.5-pro
```

**Embeddings API (SiliconFlow):**
```yaml
embeddings:
  api-key: sk-vgerpwjpbonxajygdzkqjkitstqjshsikflawxzqhcgzecum
  base-url: https://api.siliconflow.cn/v1
  model: BAAI/bge-large-zh-v1.5
```

> ä½¿ç”¨ä¸¤ä¸ªä¸åŒçš„ API æä¾›å•†ï¼šChat ä½¿ç”¨ DeepSeekï¼ŒEmbeddings ä½¿ç”¨ SiliconFlow

### ç«¯å£é…ç½®
é»˜è®¤ç«¯å£ï¼š8080

å¦‚éœ€ä¿®æ”¹ï¼Œç¼–è¾‘ `application.yml`ï¼š
```yaml
server:
  port: 8081
```

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -ano | findstr :8080

# æ–¹æ¡ˆ 1ï¼šå…³é—­å ç”¨ç«¯å£çš„ç¨‹åº
# æ–¹æ¡ˆ 2ï¼šä¿®æ”¹ application.yml ä¸­çš„ç«¯å£
```

### Q2: ç¼–è¯‘é”™è¯¯
```bash
# æ¸…ç†å¹¶é‡æ–°ç¼–è¯‘
mvn clean install
```

### Q3: API è°ƒç”¨å¤±è´¥
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- ç¡®è®¤ API Key æ˜¯å¦æœ‰æ•ˆ
- æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—

### Q4: çŸ¥è¯†åº“æ£€ç´¢ä¸åˆ°
- å½“å‰ä½¿ç”¨å…³é”®è¯åŒ¹é…
- ç¡®ä¿æŸ¥è¯¢è¯åœ¨çŸ¥è¯†åº“å†…å®¹ä¸­å­˜åœ¨
- å¯ä»¥æŸ¥çœ‹ `KnowledgeBaseService.java` ä¸­çš„çŸ¥è¯†å†…å®¹

## ğŸ“ æ—¥å¿—æŸ¥çœ‹

å¯åŠ¨åæŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼š
- `DEBUG` çº§åˆ«ï¼šè¯¦ç»†çš„è°ƒè¯•ä¿¡æ¯
- `INFO` çº§åˆ«ï¼šä¸€èˆ¬ä¿¡æ¯
- `ERROR` çº§åˆ«ï¼šé”™è¯¯ä¿¡æ¯

## ğŸ¨ Web ç•Œé¢åŠŸèƒ½

- âœ… å®æ—¶å¯¹è¯
- âœ… æµå¼/éæµå¼åˆ‡æ¢
- âœ… å¿«æ·æ“ä½œæŒ‰é’®
- âœ… æ¶ˆæ¯å†å²
- âœ… åŠ¨ç”»æ•ˆæœ

## ğŸ“¡ API æµ‹è¯•

### ä½¿ç”¨ Postman
å¯¼å…¥ `postman_collection.json` æ–‡ä»¶

### ä½¿ç”¨ curl
```bash
# åˆ›å»ºä¼šè¯
curl -X POST http://localhost:8080/api/customer-service/session \
  -H "Content-Type: application/json" \
  -d '{"customerId":"CUST001","customerName":"å¼ ä¸‰"}'

# å‘é€æ¶ˆæ¯
curl -X POST http://localhost:8080/api/customer-service/chat \
  -H "Content-Type: application/json" \
  -d '{"sessionId":"xxx","customerId":"CUST001","message":"æŸ¥è¯¢è®¢å•"}'
```

## ğŸ” æ•°æ®åº“æŸ¥çœ‹

è®¿é—® H2 æ§åˆ¶å°ï¼šhttp://localhost:8080/h2-console

è¿æ¥ä¿¡æ¯ï¼š
- JDBC URL: `jdbc:h2:mem:customerservice`
- Username: `sa`
- Password: (ç©º)

å¯æŸ¥çœ‹çš„è¡¨ï¼š
- `chat_sessions` - ä¼šè¯è®°å½•
- `chat_messages` - æ¶ˆæ¯å†å²
- `orders` - è®¢å•ä¿¡æ¯
- `customer_tickets` - å·¥å•è®°å½•

## ğŸ‰ å¯åŠ¨æˆåŠŸæ ‡å¿—

çœ‹åˆ°ä»¥ä¸‹æ—¥å¿—è¡¨ç¤ºå¯åŠ¨æˆåŠŸï¼š
```
Tomcat started on port(s): 8080 (http)
Started AiCustomerServiceApplication in X.XXX seconds
```

---

**ç¥ä½¿ç”¨æ„‰å¿«ï¼** ğŸš€

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æŸ¥çœ‹ README.md æˆ–æ§åˆ¶å°æ—¥å¿—ã€‚
