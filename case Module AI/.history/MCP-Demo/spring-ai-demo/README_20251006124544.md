# Spring AI Demo - 入门示例

这是一个 Spring AI 的入门级示例项目，展示了如何使用 Spring AI 与 OpenAI 进行集成。

## 功能特性

- ✅ 简单的 AI 对话接口
- ✅ 流式响应支持
- ✅ RESTful API 设计
- ✅ 配置文件管理

## 技术栈

- Spring Boot 3.2.0
- Spring AI 1.0.0-M4
- Java 17
- Maven

## 快速开始

### 1. 配置 API Key

在 `application.yml` 中配置你的 OpenAI API Key：

```yaml
spring:
  ai:
    openai:
      api-key: your-api-key-here
```

或者通过环境变量设置：

```bash
export OPENAI_API_KEY=your-api-key-here
```

### 2. 运行项目

```bash
mvn spring-boot:run
```

### 3. 使用可视化演示页面（推荐）

直接双击打开 `demo.html` 文件，在浏览器中体验：
- ✅ 简单对话：一次性返回完整响应
- ✅ 流式对话：实时显示打字机效果
- ✅ 可视化界面，无需命令行

### 4. 或使用命令行测试接口

#### 简单对话

```bash
curl -X POST http://localhost:8080/api/chat/simple \
  -H "Content-Type: text/plain" \
  -d "你好，请介绍一下 Spring AI"
```

#### 流式对话

```bash
curl -X POST http://localhost:8080/api/chat/stream \
  -H "Content-Type: text/plain" \
  -d "请用三句话介绍 Java"
```

## 项目结构

```
spring-ai-demo/
├── demo.html                                       # 🎨 可视化演示页面（双击打开）
├── src/
│   └── main/
│       ├── java/
│       │   └── com/example/springai/
│       │       ├── SpringAiDemoApplication.java    # 主启动类
│       │       ├── config/
│       │       │   └── WebConfig.java              # CORS 配置
│       │       ├── controller/
│       │       │   └── ChatController.java         # REST 控制器
│       │       └── service/
│       │           └── ChatService.java            # AI 服务层
│       └── resources/
│           └── application.yml                     # 配置文件
└── pom.xml                                         # Maven 配置
```

## API 说明

### POST /api/chat/simple
简单对话接口，发送消息并获取 AI 响应。

**请求体**: 纯文本消息

**响应**: AI 生成的文本响应

### POST /api/chat/stream
流式对话接口，支持流式响应。

**请求体**: 纯文本消息

**响应**: AI 生成的流式文本响应

## 注意事项

1. 需要有效的 OpenAI API Key
2. 确保网络可以访问 OpenAI API
3. 建议使用环境变量管理敏感信息
4. 可以根据需要调整模型参数（temperature、model 等）

## 扩展功能

你可以基于这个示例继续探索：

- 添加对话历史管理
- 实现多轮对话
- 集成其他 AI 模型（如 Azure OpenAI、Anthropic 等）
- 添加 Prompt 模板
- 实现 RAG（检索增强生成）
- 添加函数调用功能

## 参考资料

- [Spring AI 官方文档](https://docs.spring.io/spring-ai/reference/)
- [Spring AI GitHub](https://github.com/spring-projects/spring-ai)
