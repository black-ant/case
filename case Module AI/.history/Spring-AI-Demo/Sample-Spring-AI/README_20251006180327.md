# Sample-Spring-AI - å…¥é—¨ç¤ºä¾‹

è¿™æ˜¯ä¸€ä¸ª Spring AI çš„å…¥é—¨çº§ç¤ºä¾‹é¡¹ç›®ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ Spring AI ä¸ OpenAI è¿›è¡Œé›†æˆã€‚

## åŠŸèƒ½ç‰¹æ€§

- âœ… ç®€å•çš„ AI å¯¹è¯æ¥å£
- âœ… æµå¼å“åº”æ”¯æŒ
- âœ… RESTful API è®¾è®¡
- âœ… é…ç½®æ–‡ä»¶ç®¡ç†

## æŠ€æœ¯æ ˆ

- Spring Boot 3.2.0
- Spring AI 1.0.0-M4
- Java 17
- Maven

## å¿«é€Ÿå¼€å§‹

### 1. é…ç½® API Key

åœ¨ `application.yml` ä¸­é…ç½®ä½ çš„ OpenAI API Keyï¼š

```yaml
spring:
  ai:
    openai:
      api-key: your-api-key-here
```

æˆ–è€…é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®ï¼š

```bash
export OPENAI_API_KEY=your-api-key-here
```

### 2. è¿è¡Œé¡¹ç›®

```bash
mvn spring-boot:run
```

### 3. ä½¿ç”¨å¯è§†åŒ–æ¼”ç¤ºé¡µé¢ï¼ˆæ¨èï¼‰

ç›´æ¥åŒå‡»æ‰“å¼€ `demo.html` æ–‡ä»¶ï¼Œåœ¨æµè§ˆå™¨ä¸­ä½“éªŒï¼š
- âœ… ç®€å•å¯¹è¯ï¼šä¸€æ¬¡æ€§è¿”å›å®Œæ•´å“åº”
- âœ… æµå¼å¯¹è¯ï¼šå®æ—¶æ˜¾ç¤ºæ‰“å­—æœºæ•ˆæœ
- âœ… å¯è§†åŒ–ç•Œé¢ï¼Œæ— éœ€å‘½ä»¤è¡Œ

### 4. æˆ–ä½¿ç”¨å‘½ä»¤è¡Œæµ‹è¯•æ¥å£

#### ç®€å•å¯¹è¯

```bash
curl -X POST http://localhost:8080/api/chat/simple \
  -H "Content-Type: text/plain" \
  -d "ä½ å¥½ï¼Œè¯·ä»‹ç»ä¸€ä¸‹ Spring AI"
```

#### æµå¼å¯¹è¯

```bash
curl -X POST http://localhost:8080/api/chat/stream \
  -H "Content-Type: text/plain" \
  -d "è¯·ç”¨ä¸‰å¥è¯ä»‹ç» Java"
```

## é¡¹ç›®ç»“æ„

```
Sample-Spring-AI/
â”œâ”€â”€ demo.html                                       # ğŸ¨ å¯è§†åŒ–æ¼”ç¤ºé¡µé¢ï¼ˆåŒå‡»æ‰“å¼€ï¼‰
â”œâ”€â”€ ADVANCED_USAGE.md                               # ğŸ“– ChatClient é«˜çº§é…ç½®å®Œæ•´æŒ‡å—
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main/
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ com/example/springai/
â”‚       â”‚       â”œâ”€â”€ SpringAiDemoApplication.java    # ä¸»å¯åŠ¨ç±»
â”‚       â”‚       â”œâ”€â”€ config/
â”‚       â”‚       â”‚   â””â”€â”€ WebConfig.java              # CORS é…ç½®
â”‚       â”‚       â”œâ”€â”€ controller/
â”‚       â”‚       â”‚   â”œâ”€â”€ ChatController.java         # åŸºç¡€ REST æ§åˆ¶å™¨
â”‚       â”‚       â”‚   â””â”€â”€ AdvancedChatController.java # é«˜çº§é…ç½®æ§åˆ¶å™¨
â”‚       â”‚       â”œâ”€â”€ service/
â”‚       â”‚       â”‚   â”œâ”€â”€ ChatService.java            # åŸºç¡€ AI æœåŠ¡
â”‚       â”‚       â”‚   â””â”€â”€ AdvancedChatService.java    # é«˜çº§é…ç½®æœåŠ¡ï¼ˆ10+ ç¤ºä¾‹ï¼‰
â”‚       â”‚       â””â”€â”€ model/
â”‚       â”‚           â””â”€â”€ AdvancedChatRequest.java    # è¯·æ±‚æ¨¡å‹
â”‚       â””â”€â”€ resources/
â”‚           â””â”€â”€ application.yml                     # é…ç½®æ–‡ä»¶
â””â”€â”€ pom.xml                                         # Maven é…ç½®
```

## API è¯´æ˜

### åŸºç¡€æ¥å£

#### POST /api/chat/simple
ç®€å•å¯¹è¯æ¥å£ï¼Œå‘é€æ¶ˆæ¯å¹¶è·å– AI å“åº”ã€‚

**è¯·æ±‚ä½“**: çº¯æ–‡æœ¬æ¶ˆæ¯

**å“åº”**: AI ç”Ÿæˆçš„æ–‡æœ¬å“åº”

#### POST /api/chat/stream
æµå¼å¯¹è¯æ¥å£ï¼Œæ”¯æŒæµå¼å“åº”ã€‚

**è¯·æ±‚ä½“**: çº¯æ–‡æœ¬æ¶ˆæ¯

**å“åº”**: AI ç”Ÿæˆçš„æµå¼æ–‡æœ¬å“åº”

### é«˜çº§é…ç½®æ¥å£

è¯¦ç»†çš„é«˜çº§é…ç½®è¯´æ˜è¯·æŸ¥çœ‹ [ADVANCED_USAGE.md](./ADVANCED_USAGE.md)

#### POST /api/advanced/basic-options
åŸºç¡€é€‰é¡¹é…ç½®ï¼ˆtemperatureã€maxTokensï¼‰

#### POST /api/advanced/system-prompt
è‡ªå®šä¹‰ç³»ç»Ÿæç¤ºè¯

#### POST /api/advanced/template
ä½¿ç”¨æ¨¡æ¿å’Œå˜é‡

#### POST /api/advanced/advanced-options
é«˜çº§é€‰é¡¹é…ç½®ï¼ˆtopPã€penaltiesï¼‰

#### POST /api/advanced/stream-options
æµå¼å“åº”é…ç½®

#### POST /api/advanced/prompt-object
ä½¿ç”¨ Prompt å¯¹è±¡

#### POST /api/advanced/full-response
è·å–å®Œæ•´å“åº”ä¿¡æ¯ï¼ˆåŒ…æ‹¬ token ä½¿ç”¨æƒ…å†µï¼‰

#### POST /api/advanced/specific-model
æŒ‡å®šä½¿ç”¨çš„æ¨¡å‹

#### POST /api/advanced/creative-writing
åˆ›é€ æ€§å†™ä½œé…ç½®

#### POST /api/advanced/precise-answer
ç²¾ç¡®å›ç­”é…ç½®

## æ³¨æ„äº‹é¡¹

1. éœ€è¦æœ‰æ•ˆçš„ OpenAI API Key
2. ç¡®ä¿ç½‘ç»œå¯ä»¥è®¿é—® OpenAI API
3. å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡ç®¡ç†æ•æ„Ÿä¿¡æ¯
4. å¯ä»¥æ ¹æ®éœ€è¦è°ƒæ•´æ¨¡å‹å‚æ•°ï¼ˆtemperatureã€model ç­‰ï¼‰

## ğŸ“š å­¦ä¹ èµ„æº

### 1. åŸºç¡€å…¥é—¨
- ä½¿ç”¨ `demo.html` å¯è§†åŒ–é¡µé¢å¿«é€Ÿä½“éªŒ
- æŸ¥çœ‹ `ChatController` äº†è§£åŸºæœ¬ç”¨æ³•
- æŸ¥çœ‹ `ChatService` äº†è§£æœåŠ¡å±‚å®ç°

### 2. é«˜çº§é…ç½®
- ğŸ“– **[ADVANCED_USAGE.md](./ADVANCED_USAGE.md)** - ChatClient å®Œæ•´é…ç½®æŒ‡å—
- æŸ¥çœ‹ `AdvancedChatController` äº†è§£ 10+ ç§é«˜çº§ç”¨æ³•
- æŸ¥çœ‹ `AdvancedChatService` äº†è§£å„ç§é…ç½®åœºæ™¯

### 3. é…ç½®é€ŸæŸ¥
- Temperature æ§åˆ¶ï¼š0.0-2.0ï¼ˆç¡®å®šæ€§ â†” åˆ›é€ æ€§ï¼‰
- Top P æ ¸é‡‡æ ·ï¼š0.0-1.0ï¼ˆä¿å®ˆ â†” å¤šæ ·ï¼‰
- Frequency Penaltyï¼š-2.0-2.0ï¼ˆé™ä½è¯é¢‘é‡å¤ï¼‰
- Presence Penaltyï¼š-2.0-2.0ï¼ˆé¼“åŠ±æ–°è¯é¢˜ï¼‰
- Max Tokensï¼šé™åˆ¶è¾“å‡ºé•¿åº¦

## æ‰©å±•åŠŸèƒ½

ä½ å¯ä»¥åŸºäºè¿™ä¸ªç¤ºä¾‹ç»§ç»­æ¢ç´¢ï¼š

- âœ… å¯¹è¯å†å²ç®¡ç†ï¼ˆå·²åœ¨ AdvancedChatService ä¸­å±•ç¤ºï¼‰
- âœ… å¤šè½®å¯¹è¯ï¼ˆå·²åœ¨ AdvancedChatService ä¸­å±•ç¤ºï¼‰
- âœ… Prompt æ¨¡æ¿ï¼ˆå·²åœ¨ AdvancedChatService ä¸­å±•ç¤ºï¼‰
- é›†æˆå…¶ä»– AI æ¨¡å‹ï¼ˆå‚è€ƒ Multi-LLM-Provider é¡¹ç›®ï¼‰
- å®ç° RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰
- æ·»åŠ å‡½æ•°è°ƒç”¨åŠŸèƒ½
- å®ç°å¯¹è¯è®°å¿†å’Œä¸Šä¸‹æ–‡ç®¡ç†

## å‚è€ƒèµ„æ–™

- [Spring AI å®˜æ–¹æ–‡æ¡£](https://docs.spring.io/spring-ai/reference/)
- [Spring AI GitHub](https://github.com/spring-projects/spring-ai)
