# Spring AI Demo 示例集合

这个目录包含了 Spring AI 的各种示例项目，帮助你快速上手 Spring AI 框架。

## 📚 项目列表

### 1. Sample-Spring-AI
**入门级示例** - 展示 Spring AI 的基础用法

- ✅ 简单对话接口
- ✅ 流式响应（SSE）
- ✅ 可视化演示页面
- ✅ RESTful API 设计

**快速开始**：
```bash
cd Sample-Spring-AI
mvn spring-boot:run
# 然后双击打开 demo.html
```

### 2. Multi-LLM-Provider
**多提供商集成** - 展示如何集成多个 LLM 提供商

- ✅ OpenAI 集成
- ✅ Azure OpenAI 集成
- ✅ Anthropic Claude 集成
- ✅ Google Gemini 集成
- ✅ Ollama 本地模型集成
- ✅ 每个提供商独立的 REST API
- ✅ 统一的响应格式

**快速开始**：
```bash
cd Multi-LLM-Provider
# 配置环境变量
export OPENAI_API_KEY=your-key
mvn spring-boot:run
```

### 3. Function-Calling-Demo
**工具调用与函数集成** - 展示 AI 如何智能调用 Java 函数

- ✅ 天气查询函数示例
- ✅ 股票价格查询函数示例
- ✅ 计算器函数示例
- ✅ 6 种函数调用模式
- ✅ 动态函数注册
- ✅ 自动参数提取
- ✅ 链式函数调用
- ✅ 完整的函数注册和配置

**快速开始**：
```bash
cd Function-Calling-Demo
export OPENAI_API_KEY=your-key
mvn spring-boot:run
# 测试：curl -X POST http://localhost:8080/api/function/auto \
#   -H "Content-Type: application/json" \
#   -d '{"message": "北京今天天气怎么样？"}'
```

### 4. RAG-Demo
**检索增强生成 (RAG)** - 基于私有知识库的智能问答

- ✅ 向量数据库集成（Simple Vector Store、PGVector）
- ✅ 文档处理（PDF、Word、TXT）
- ✅ 智能文档分块（TokenTextSplitter）
- ✅ 基础 RAG 查询
- ✅ 带过滤的 RAG
- ✅ 多步骤 RAG（复杂问题分解）
- ✅ 带引用的 RAG
- ✅ 相似度搜索

**快速开始**：
```bash
cd RAG-Demo
export OPENAI_API_KEY=your-key
mvn spring-boot:run

# 上传文档
curl -X POST http://localhost:8080/api/documents/ingest/text \
  -H "Content-Type: application/json" \
  -d '{"title": "Spring AI", "text": "Spring AI 是..."}'

# 查询
curl -X POST http://localhost:8080/api/rag/query \
  -H "Content-Type: application/json" \
  -d '{"query": "什么是 Spring AI？"}'
```

### 5. Streaming-Demo
**WebFlux 流式响应** - 实时交互的 AI 应用

- ✅ 基础流式响应（SSE、NDJSON）
- ✅ 打字机效果（带延迟）
- ✅ 带系统提示词的流式响应
- ✅ 多轮对话流式响应
- ✅ 流式响应转换和过滤
- ✅ 并行流式响应
- ✅ 错误处理
- ✅ 可视化演示页面

**快速开始**：
```bash
cd Streaming-Demo
export OPENAI_API_KEY=your-key
mvn spring-boot:run

# 双击打开 demo.html 查看可视化演示

# 或使用 curl 测试
curl -N -X POST http://localhost:8080/api/stream/basic \
  -H "Content-Type: application/json" \
  -d '{"message": "你好"}'
```

### 6. Agent-Workflow-Demo
**智能体模式与工作流** - 复杂任务的多步骤处理

#### 链式工作流
- ✅ 通用链式执行
- ✅ 文档分析链（提取→分析→摘要）
- ✅ 内容创作链（头脑风暴→大纲→撰写→润色）
- ✅ 代码审查链（语法→性能→安全→建议）

#### 并行工作流
- ✅ 多角度并行分析
- ✅ 市场分析（技术/基本面/情绪/风险）
- ✅ 产品评估（体验/技术/竞争力/价值/创新）

#### 路由工作流
- ✅ 智能分类路由（技术/商业/创意/科学）
- ✅ 复杂度路由（简单/中等/复杂）
- ✅ 情感路由（开心/悲伤/生气/困惑）

**快速开始**：
```bash
cd Agent-Workflow-Demo
export OPENAI_API_KEY=your-key
mvn spring-boot:run
```

### 7. Prompt-Engineering-Demo 🆕
**提示工程与模板系统** - 优化 AI 输出质量

#### 提示模板
- ✅ 复杂分析模板（角色+上下文+任务+要求）
- ✅ 多轮对话模板
- ✅ 角色扮演模板
- ✅ 结构化输出模板
- ✅ Few-Shot 学习模板
- ✅ Chain-of-Thought 模板

#### 对话记忆
- ✅ 带记忆的多轮对话
- ✅ 对话历史管理
- ✅ 记忆压缩
- ✅ 多会话支持

**快速开始**：
```bash
cd Prompt-Engineering-Demo
export OPENAI_API_KEY=your-key
mvn spring-boot:run

# 测试角色扮演
curl -X POST http://localhost:8080/api/prompt/template/role-play \
  -H "Content-Type: application/json" \
  -d '{"role": "架构师", "scenario": "评审", "userInput": "问题"}'

# 测试对话记忆
curl -X POST http://localhost:8080/api/prompt/memory/chat \
  -H "Content-Type: application/json" \
  -d '{"sessionId": "user1", "message": "你好"}'
```

## 🚀 技术栈

- Spring Boot 3.2.0
- Spring AI 1.0.0-M4
- Spring WebFlux（响应式编程）
- Java 17
- Maven

## 📖 学习路径

1. **Sample-Spring-AI** - 从这里开始，了解基本的对话和流式响应，掌握 ChatClient 的各种配置
2. **Multi-LLM-Provider** - 学习如何集成多个 LLM 提供商，对比不同模型的特点
3. **Function-Calling-Demo** - 深入学习 Function Calling，让 AI 能够调用真实的 Java 函数
4. **RAG-Demo** - 掌握 RAG 架构，构建基于私有知识库的智能问答系统
5. **Streaming-Demo** - 掌握 WebFlux 流式响应，构建实时交互的 AI 应用
6. **Agent-Workflow-Demo** - 掌握智能体工作流，实现复杂的多步骤 AI 任务
7. **Prompt-Engineering-Demo** - 掌握提示工程技术，优化 AI 输出质量
8. 完整的 Spring AI 学习体系！🎉

## 🔗 相关资源

- [Spring AI 官方文档](https://docs.spring.io/spring-ai/reference/)
- [Spring AI GitHub](https://github.com/spring-projects/spring-ai)
- [OpenAI API 文档](https://platform.openai.com/docs)

## 💡 提示

所有示例都需要配置 OpenAI API Key，可以通过以下方式设置：

1. 在 `application.yml` 中配置
2. 设置环境变量 `OPENAI_API_KEY`

```bash
# Windows
set OPENAI_API_KEY=your-api-key-here

# Linux/Mac
export OPENAI_API_KEY=your-api-key-here
```
